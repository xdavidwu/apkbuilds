# Contributor: Sören Tempel <soeren+alpine@soeren-tempel.net>
# Contributor: Bartłomiej Piotrowski <bpiotrowski@alpinelinux.org>
# Contributor: 7heo <7heo@mail.com>
# Maintainer: xdavidwu <xdavidwuph@gmail.com>
pkgname=dvtm
pkgver=0.15_git20210310
pkgrel=0
pkgdesc="Dynamic virtual terminal manager"
arch="all"
url="https://www.brain-dump.org/projects/dvtm/"
license="MIT"
depends="ncurses-terminfo"
makedepends="ncurses-dev ncurses" # we need ncurses for 'tic'
subpackages="$pkgname-doc"
_commit=7bcf43f8dbd5c4a67ec573a1248114caa75fa3c2
source="dvtm-$_commit.tar.gz::https://git.sr.ht/~martanne/dvtm/archive/$_commit.tar.gz"
builddir="$srcdir/$pkgname-$_commit"

build() {
	make
}

package() {
	make PREFIX=/usr DESTDIR="$pkgdir" install

	# Already provided by ncurses-terminfo
	rm -rf "${pkgdir}/usr/share/terminfo/"
}

sha512sums="
56b768ef96f4952fbeb10adaf55afb795293c0b60a67f361cdd2759d9fe0c231afd2fb4c6c6d002a77841cddabf7c27bb557999498fe261f888dc94c02c8f1fd  dvtm-7bcf43f8dbd5c4a67ec573a1248114caa75fa3c2.tar.gz
"
